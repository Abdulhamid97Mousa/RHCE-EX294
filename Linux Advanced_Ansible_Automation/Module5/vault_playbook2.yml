---
- hosts: localhost
  vars:
  - the_secret: !vault |
          $ANSIBLE_VAULT;1.2;AES256;dev
          62353738636165646234386132393732633837393537653266616436366133353632636438373232
          6234373864643961313666386361333061303936353733380a613537613437656661303832663162
          66663239346637396539366537666463663538306133646338353838633063383866323039643331
          3930356433303130300a613566376363373865316537323937366234373335623031303634336137
          6639
  vars_files:
    - vault_prod.yml
    - vault_dev.yml
  tasks:
    - name: msg from the dev environment
      debug:
        msg: "{{ dev_variable }}"
    - name: msg from the prod environment
      debug:
        msg: "{{ prod_variable }}"
    - name: encrypted variables
      debug:
        msg: "{{ the_secret }}"